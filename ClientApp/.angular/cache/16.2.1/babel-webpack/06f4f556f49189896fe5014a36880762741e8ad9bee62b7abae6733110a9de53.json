{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/VladislavMihailov/source/repos/vladislavm-ui/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { Validators } from '@angular/forms';\nimport jwtDecode from 'jwt-decode';\nimport { DeleteConfirmationModalComponent } from '../delete-confirmation-modal/delete-confirmation-modal.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"../Services/homes-api.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"src/api-authorization/authorize.service\";\nimport * as i6 from \"@angular/common\";\nconst _c0 = [\"editModal\"];\nconst _c1 = [\"CreateModal\"];\nfunction ApartmentComponent_tr_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\")(21, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ApartmentComponent_tr_33_Template_button_click_21_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const resident_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.openEditResidentModal(resident_r5.id));\n    });\n    i0.ɵɵtext(22, \"Edit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const resident_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(resident_r5.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(resident_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(resident_r5.surname);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(resident_r5.personalCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(11, 9, resident_r5.dateOfBirth));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(resident_r5.phone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(resident_r5.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(resident_r5.isOwner ? \"Yes\" : \"No\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(resident_r5.apartmentId);\n  }\n}\nfunction ApartmentComponent_ng_template_35_div_5_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1, \"Id is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ApartmentComponent_ng_template_35_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"label\", 33);\n    i0.ɵɵtext(2, \"Id:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 34);\n    i0.ɵɵtemplate(4, ApartmentComponent_ng_template_35_div_5_div_4_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    let tmp_1_0;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx_r8.ResidentEdit.get(\"id\")) == null ? null : tmp_1_0.hasError(\"required\")) && ((tmp_1_0 = ctx_r8.ResidentEdit.get(\"id\")) == null ? null : tmp_1_0.touched));\n  }\n}\nfunction ApartmentComponent_ng_template_35_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1, \"Name is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ApartmentComponent_ng_template_35_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1, \"Surname is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ApartmentComponent_ng_template_35_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1, \"Personal Code is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ApartmentComponent_ng_template_35_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1, \"Date of Birth is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ApartmentComponent_ng_template_35_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1, \"Phone is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ApartmentComponent_ng_template_35_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1, \"Email is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ApartmentComponent_ng_template_35_option_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const apartment_r17 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", apartment_r17.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(apartment_r17.id);\n  }\n}\nfunction ApartmentComponent_ng_template_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n    i0.ɵɵtext(2, \"Resident Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\")(4, \"form\", 7);\n    i0.ɵɵtemplate(5, ApartmentComponent_ng_template_35_div_5_Template, 5, 2, \"div\", 8);\n    i0.ɵɵelementStart(6, \"div\", 9)(7, \"label\", 10);\n    i0.ɵɵtext(8, \"Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 11);\n    i0.ɵɵtemplate(10, ApartmentComponent_ng_template_35_div_10_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 9)(12, \"label\", 13);\n    i0.ɵɵtext(13, \"Surname:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"input\", 14);\n    i0.ɵɵtemplate(15, ApartmentComponent_ng_template_35_div_15_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 9)(17, \"label\", 15);\n    i0.ɵɵtext(18, \"Personal Code:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(19, \"input\", 16);\n    i0.ɵɵtemplate(20, ApartmentComponent_ng_template_35_div_20_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 9)(22, \"label\", 17);\n    i0.ɵɵtext(23, \"Date of Birth:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(24, \"input\", 18);\n    i0.ɵɵtemplate(25, ApartmentComponent_ng_template_35_div_25_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 9)(27, \"label\", 19);\n    i0.ɵɵtext(28, \"Phone:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(29, \"input\", 20);\n    i0.ɵɵtemplate(30, ApartmentComponent_ng_template_35_div_30_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 9)(32, \"label\", 21);\n    i0.ɵɵtext(33, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(34, \"input\", 22);\n    i0.ɵɵtemplate(35, ApartmentComponent_ng_template_35_div_35_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"div\", 23);\n    i0.ɵɵelement(37, \"input\", 24);\n    i0.ɵɵelementStart(38, \"label\", 25);\n    i0.ɵɵtext(39, \"Is Owner\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(40, \"div\", 26)(41, \"label\", 27);\n    i0.ɵɵtext(42, \"ApartmentId:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"select\", 28);\n    i0.ɵɵtemplate(44, ApartmentComponent_ng_template_35_option_44_Template, 2, 2, \"option\", 29);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(45, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function ApartmentComponent_ng_template_35_Template_button_click_45_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.onFormSubmitEdit());\n    });\n    i0.ɵɵtext(46, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function ApartmentComponent_ng_template_35_Template_button_click_47_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.Delete());\n    });\n    i0.ɵɵtext(48, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ApartmentComponent_ng_template_35_Template_button_click_49_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.closeModalAndRefresh());\n    });\n    i0.ɵɵtext(50, \"Cancel\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    let tmp_2_0;\n    let tmp_3_0;\n    let tmp_4_0;\n    let tmp_5_0;\n    let tmp_6_0;\n    let tmp_7_0;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.ResidentEdit);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isManager);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx_r2.ResidentEdit.get(\"name\")) == null ? null : tmp_2_0.hasError(\"required\")) && ((tmp_2_0 = ctx_r2.ResidentEdit.get(\"name\")) == null ? null : tmp_2_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx_r2.ResidentEdit.get(\"surname\")) == null ? null : tmp_3_0.hasError(\"required\")) && ((tmp_3_0 = ctx_r2.ResidentEdit.get(\"surname\")) == null ? null : tmp_3_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx_r2.ResidentEdit.get(\"personalCode\")) == null ? null : tmp_4_0.hasError(\"required\")) && ((tmp_4_0 = ctx_r2.ResidentEdit.get(\"personalCode\")) == null ? null : tmp_4_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx_r2.ResidentEdit.get(\"dateOfBirth\")) == null ? null : tmp_5_0.hasError(\"required\")) && ((tmp_5_0 = ctx_r2.ResidentEdit.get(\"dateOfBirth\")) == null ? null : tmp_5_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx_r2.ResidentEdit.get(\"phone\")) == null ? null : tmp_6_0.hasError(\"required\")) && ((tmp_6_0 = ctx_r2.ResidentEdit.get(\"phone\")) == null ? null : tmp_6_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_7_0 = ctx_r2.ResidentEdit.get(\"email\")) == null ? null : tmp_7_0.hasError(\"required\")) && ((tmp_7_0 = ctx_r2.ResidentEdit.get(\"email\")) == null ? null : tmp_7_0.touched));\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.apartments);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.isManager);\n  }\n}\nfunction ApartmentComponent_ng_template_37_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1, \"Id is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ApartmentComponent_ng_template_37_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1, \"Name is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ApartmentComponent_ng_template_37_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1, \"Surname is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ApartmentComponent_ng_template_37_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1, \"Personal Code is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ApartmentComponent_ng_template_37_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1, \"Date of Birth is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ApartmentComponent_ng_template_37_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1, \"Phone is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ApartmentComponent_ng_template_37_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1, \"Email is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ApartmentComponent_ng_template_37_option_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const apartment_r30 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", apartment_r30.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(apartment_r30.id);\n  }\n}\nfunction ApartmentComponent_ng_template_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n    i0.ɵɵtext(2, \"Resident Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 7)(4, \"div\", 9)(5, \"label\", 33);\n    i0.ɵɵtext(6, \"Id:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"input\", 37);\n    i0.ɵɵtemplate(8, ApartmentComponent_ng_template_37_div_8_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 9)(10, \"label\", 10);\n    i0.ɵɵtext(11, \"Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"input\", 38);\n    i0.ɵɵtemplate(13, ApartmentComponent_ng_template_37_div_13_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 9)(15, \"label\", 13);\n    i0.ɵɵtext(16, \"Surname:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"input\", 39);\n    i0.ɵɵtemplate(18, ApartmentComponent_ng_template_37_div_18_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 9)(20, \"label\", 15);\n    i0.ɵɵtext(21, \"Personal Code:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"input\", 40);\n    i0.ɵɵtemplate(23, ApartmentComponent_ng_template_37_div_23_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 9)(25, \"label\", 17);\n    i0.ɵɵtext(26, \"Date of Birth:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(27, \"input\", 18);\n    i0.ɵɵtemplate(28, ApartmentComponent_ng_template_37_div_28_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"div\", 9)(30, \"label\", 19);\n    i0.ɵɵtext(31, \"Phone:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(32, \"input\", 41);\n    i0.ɵɵtemplate(33, ApartmentComponent_ng_template_37_div_33_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"div\", 9)(35, \"label\", 21);\n    i0.ɵɵtext(36, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(37, \"input\", 42);\n    i0.ɵɵtemplate(38, ApartmentComponent_ng_template_37_div_38_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"div\", 23);\n    i0.ɵɵelement(40, \"input\", 24);\n    i0.ɵɵelementStart(41, \"label\", 25);\n    i0.ɵɵtext(42, \"Is Owner\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(43, \"div\", 26)(44, \"label\", 27);\n    i0.ɵɵtext(45, \"ApartmentId:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"select\", 43);\n    i0.ɵɵtemplate(47, ApartmentComponent_ng_template_37_option_47_Template, 2, 2, \"option\", 29);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(48, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function ApartmentComponent_ng_template_37_Template_button_click_48_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.onFormSubmitCreate());\n    });\n    i0.ɵɵtext(49, \"Create\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ApartmentComponent_ng_template_37_Template_button_click_50_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.closeModalAndRefresh());\n    });\n    i0.ɵɵtext(51, \"Cancel\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    let tmp_1_0;\n    let tmp_2_0;\n    let tmp_3_0;\n    let tmp_4_0;\n    let tmp_5_0;\n    let tmp_6_0;\n    let tmp_7_0;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"formGroup\", ctx_r4.ResidentCreate);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx_r4.ResidentCreate.get(\"id\")) == null ? null : tmp_1_0.hasError(\"required\")) && ((tmp_1_0 = ctx_r4.ResidentCreate.get(\"id\")) == null ? null : tmp_1_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx_r4.ResidentCreate.get(\"name\")) == null ? null : tmp_2_0.hasError(\"required\")) && ((tmp_2_0 = ctx_r4.ResidentCreate.get(\"name\")) == null ? null : tmp_2_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx_r4.ResidentCreate.get(\"surname\")) == null ? null : tmp_3_0.hasError(\"required\")) && ((tmp_3_0 = ctx_r4.ResidentCreate.get(\"surname\")) == null ? null : tmp_3_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx_r4.ResidentCreate.get(\"personalCode\")) == null ? null : tmp_4_0.hasError(\"required\")) && ((tmp_4_0 = ctx_r4.ResidentCreate.get(\"personalCode\")) == null ? null : tmp_4_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx_r4.ResidentCreate.get(\"dateOfBirth\")) == null ? null : tmp_5_0.hasError(\"required\")) && ((tmp_5_0 = ctx_r4.ResidentCreate.get(\"dateOfBirth\")) == null ? null : tmp_5_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx_r4.ResidentCreate.get(\"phone\")) == null ? null : tmp_6_0.hasError(\"required\")) && ((tmp_6_0 = ctx_r4.ResidentCreate.get(\"phone\")) == null ? null : tmp_6_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_7_0 = ctx_r4.ResidentCreate.get(\"email\")) == null ? null : tmp_7_0.hasError(\"required\")) && ((tmp_7_0 = ctx_r4.ResidentCreate.get(\"email\")) == null ? null : tmp_7_0.touched));\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.apartments);\n  }\n}\nexport class ApartmentComponent {\n  constructor(modalService, houseService, route, router, formBuilder, AuthorizeService) {\n    this.modalService = modalService;\n    this.houseService = houseService;\n    this.route = route;\n    this.router = router;\n    this.formBuilder = formBuilder;\n    this.AuthorizeService = AuthorizeService;\n    this.isManager = false;\n    this.isResident = false;\n    this.apartments = [];\n    this.activeModals = [];\n    this.residentdetails = {\n      id: 0,\n      name: '',\n      surname: '',\n      personalCode: '',\n      dateOfBirth: new Date(2000, 0, 1),\n      phone: '',\n      email: '',\n      isOwner: false,\n      apartmentId: 0\n    };\n  }\n  ngOnInit() {\n    this.manager();\n    this.UserResidentsCheck();\n    this.initializeFormEdit();\n    this.initializeFormCreate();\n    this.getApartments();\n    this.AuthorizeService.getAccessToken().subscribe(accessToken => {\n      if (accessToken !== null) {\n        this.accessToken = accessToken;\n      }\n    });\n  }\n  initializeFormEdit() {\n    this.ResidentEdit = this.formBuilder.group({\n      id: ['', Validators.required],\n      name: ['', Validators.required],\n      surname: ['', Validators.required],\n      personalCode: ['', Validators.required],\n      dateOfBirth: ['', Validators.required],\n      phone: ['', Validators.required],\n      email: ['', Validators.required],\n      isOwner: [false],\n      apartmentId: ['']\n    });\n  }\n  initializeFormCreate() {\n    this.ResidentCreate = this.formBuilder.group({\n      id: ['', Validators.required],\n      name: ['', Validators.required],\n      surname: ['', Validators.required],\n      personalCode: ['', Validators.required],\n      dateOfBirth: ['', Validators.required],\n      phone: ['', Validators.required],\n      email: ['', Validators.required],\n      isOwner: [false],\n      apartmentId: ['']\n    });\n  }\n  openEditResidentModal(residentId) {\n    this.residentId = residentId;\n    const modalRef = this.modalService.open(this.editModal);\n    this.activeModals.push(modalRef);\n    this.getResidentDetails(this.residentId).subscribe({\n      next: response => {\n        this.residentdetails = response;\n        this.ResidentEdit.patchValue({\n          id: response.id,\n          name: response.name,\n          surname: response.surname,\n          personalCode: response.personalCode,\n          dateOfBirth: response.dateOfBirth,\n          phone: response.phone,\n          email: response.email,\n          isOwner: response.isOwner,\n          apartmentId: response.apartmentId\n        });\n      }\n    });\n  }\n  UserResidentsCheck() {\n    this.AuthorizeService.getUser().subscribe(data => {\n      if (data && data.name) {\n        this.currentUser = data.name;\n      }\n    });\n    this.AuthorizeService.getAccessToken().subscribe(userRole => {\n      if (userRole !== null && !this.isManager) {\n        const token = jwtDecode(userRole);\n        const residentId = token.residentid;\n        this.houseService.GetResidentById(residentId).subscribe(resident => {\n          this.residents = [resident];\n        });\n      } else {\n        this.residentApartment();\n      }\n    });\n  }\n  residentApartment() {\n    this.route.params.subscribe(params => {\n      this.apartmentId = +params['id'];\n    });\n    this.getApartmentsResidents(this.apartmentId);\n  }\n  openCreateResidentModal() {\n    const modalRef = this.modalService.open(this.CreateModal);\n    this.activeModals.push(modalRef);\n  }\n  onFormSubmitEdit() {\n    if (this.ResidentEdit.valid) {\n      if (this.accessToken !== null) {\n        const formData = this.ResidentEdit.value;\n        const residentIdToUpdate = formData.id;\n        this.houseService.UpdateResident(residentIdToUpdate, formData, this.accessToken).subscribe(response => {\n          this.closeModalAndRefresh();\n        });\n      }\n    }\n  }\n  onFormSubmitCreate() {\n    if (this.ResidentCreate.valid) {\n      if (this.accessToken !== null) {\n        const resdident = this.ResidentCreate.value;\n        this.houseService.CreateResident(resdident, this.accessToken).subscribe(response => {\n          this.closeModalAndRefresh();\n        });\n      }\n    }\n  }\n  getApartments() {\n    if (this.accessToken !== null) {\n      this.houseService.getAllApartments(this.accessToken).subscribe(data => {\n        this.apartments = data;\n      });\n      this.closeModalAndRefresh();\n    }\n  }\n  getResidentDetails(residentId) {\n    return this.houseService.GetResidentById(residentId);\n  }\n  getApartmentsResidents(Apartmentid) {\n    this.houseService.GetApartmentsResident(Apartmentid).subscribe(residents => {\n      this.residents = residents;\n    });\n  }\n  manager() {\n    this.AuthorizeService.getAccessToken().subscribe(userRole => {\n      if (userRole !== null) {\n        const token = jwtDecode(userRole);\n        const role = token.role;\n        this.isManager = role === 'Manager';\n        this.isResident = role === 'Resident';\n      } else {\n        this.isManager = false;\n        this.isResident = false;\n      }\n    });\n  }\n  Delete() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const residentId = _this.ResidentEdit.get('id')?.value;\n      const result = _this.openConfirmationModal();\n      if (yield result) {\n        _this.deleteResident(_this.residentId);\n      } else {}\n    })();\n  }\n  //check\n  deleteResident(residentId) {\n    if (this.accessToken !== null) {\n      this.houseService.deleteResident(residentId, this.accessToken).subscribe(response => {\n        this.closeModalAndRefresh();\n      });\n    }\n  }\n  openConfirmationModal() {\n    const modalRef = this.modalService.open(DeleteConfirmationModalComponent);\n    this.activeModals.push(modalRef);\n    return modalRef.result.then(result => {\n      return result === true;\n    }).catch(() => {\n      return false;\n    });\n  }\n  closeModalAndRefresh() {\n    this.activeModals.forEach(modalRef => {\n      modalRef.dismiss();\n    });\n    this.activeModals = [];\n    this.router.navigateByUrl('/', {\n      skipLocationChange: true\n    }).then(() => this.router.navigate(['apartments/' + this.residentdetails.apartmentId + '/residents']));\n    location.reload();\n  }\n}\n_class = ApartmentComponent;\n_class.ɵfac = function ApartmentComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.NgbModal), i0.ɵɵdirectiveInject(i2.HomesApiService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.FormBuilder), i0.ɵɵdirectiveInject(i5.AuthorizeService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-apartment\"]],\n  viewQuery: function ApartmentComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.editModal = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.CreateModal = _t.first);\n    }\n  },\n  decls: 39,\n  vars: 1,\n  consts: [[1, \"container\"], [1, \"table\"], [1, \"btn\", \"btn-warning\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [\"editModal\", \"\"], [\"CreateModal\", \"\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [3, \"formGroup\"], [\"class\", \"mb-3\", \"required\", \"\", 4, \"ngIf\"], [1, \"mb-3\"], [\"for\", \"name\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"name\", \"formControlName\", \"name\", \"required\", \"\", 1, \"form-control\"], [\"class\", \"text-danger small\", 4, \"ngIf\"], [\"for\", \"surname\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"surname\", \"formControlName\", \"surname\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"personalCode\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"personalCode\", \"formControlName\", \"personalCode\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"dateOfBirth\", 1, \"form-label\"], [\"type\", \"date\", \"id\", \"dateOfBirth\", \"formControlName\", \"dateOfBirth\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"phone\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"phone\", \"formControlName\", \"phone\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"email\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"email\", \"formControlName\", \"email\", \"required\", \"\", 1, \"form-control\"], [1, \"mb-3\", \"form-check\"], [\"type\", \"checkbox\", \"id\", \"isOwner\", \"formControlName\", \"isOwner\", 1, \"form-check-input\"], [\"for\", \"isOwner\", 1, \"form-check-label\"], [1, \"mb-3\", \"form-check\", \"apartmentidclass\"], [\"for\", \"apartmentId\", 1, \"form-label\"], [\"name\", \"residentdetails.apartmentId\", \"size\", \"1\", \"formControlName\", \"apartmentId\", 1, \"form-select\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-info\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"disabled\", \"click\"], [\"required\", \"\", 1, \"mb-3\"], [\"for\", \"id\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"id\", \"formControlName\", \"id\", \"required\", \"\", 1, \"form-control\", 3, \"disabled\"], [1, \"text-danger\", \"small\"], [3, \"value\"], [\"type\", \"number\", \"id\", \"id\", \"formControlName\", \"id\", 1, \"form-control\"], [\"type\", \"text\", \"id\", \"name\", \"formControlName\", \"name\", \"required\", \"\", \"placeholder\", \"Vladislavs\", 1, \"form-control\"], [\"type\", \"text\", \"id\", \"surname\", \"formControlName\", \"surname\", \"required\", \"\", \"placeholder\", \"Mihailovs\", 1, \"form-control\"], [\"type\", \"text\", \"id\", \"personalCode\", \"formControlName\", \"personalCode\", \"required\", \"\", \"placeholder\", \"254334-23131\", 1, \"form-control\"], [\"type\", \"text\", \"id\", \"phone\", \"formControlName\", \"phone\", \"required\", \"\", \"placeholder\", \"25288261\", 1, \"form-control\"], [\"type\", \"email\", \"id\", \"email\", \"formControlName\", \"email\", \"required\", \"\", \"placeholder\", \"test@test.com\", 1, \"form-control\"], [\"name\", \"apartmentId\", \"size\", \"1\", \"formControlName\", \"apartmentId\", 1, \"form-select\"]],\n  template: function ApartmentComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n      i0.ɵɵtext(2, \"Apartment:\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"div\", 0);\n      i0.ɵɵelement(4, \"table\", 1);\n      i0.ɵɵelementStart(5, \"h2\");\n      i0.ɵɵtext(6, \"Residents \");\n      i0.ɵɵelementStart(7, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function ApartmentComponent_Template_button_click_7_listener() {\n        return ctx.openCreateResidentModal();\n      });\n      i0.ɵɵtext(8, \"Add Resident\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"table\", 1)(10, \"thead\")(11, \"tr\")(12, \"th\");\n      i0.ɵɵtext(13, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"Surname\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\");\n      i0.ɵɵtext(19, \"Personal Code\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\");\n      i0.ɵɵtext(21, \"Date of Birth\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"th\");\n      i0.ɵɵtext(23, \"Phone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"th\");\n      i0.ɵɵtext(25, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"th\");\n      i0.ɵɵtext(27, \"Is Owner\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"th\");\n      i0.ɵɵtext(29, \"Apartment ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"th\");\n      i0.ɵɵtext(31, \"Edit\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(32, \"tbody\");\n      i0.ɵɵtemplate(33, ApartmentComponent_tr_33_Template, 23, 11, \"tr\", 3);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(34, \"div\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(35, ApartmentComponent_ng_template_35_Template, 51, 10, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(37, ApartmentComponent_ng_template_37_Template, 52, 9, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(33);\n      i0.ɵɵproperty(\"ngForOf\", ctx.residents);\n    }\n  },\n  dependencies: [i6.NgForOf, i6.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.CheckboxControlValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.FormGroupDirective, i4.FormControlName, i6.DatePipe],\n  styles: [\"*[_ngcontent-%COMP%] {\\n    margin: 10px;\\n}\\n.apartmentidclass[_ngcontent-%COMP%]{\\n    margin: 10px;\\n    padding: 0px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBhcnRtZW50L2FwYXJ0bWVudC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtBQUNoQjtBQUNBO0lBQ0ksWUFBWTtJQUNaLFlBQVk7QUFDaEIiLCJzb3VyY2VzQ29udGVudCI6WyIqIHtcbiAgICBtYXJnaW46IDEwcHg7XG59XG4uYXBhcnRtZW50aWRjbGFzc3tcbiAgICBtYXJnaW46IDEwcHg7XG4gICAgcGFkZGluZzogMHB4O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["Validators","jwtDecode","DeleteConfirmationModalComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ApartmentComponent_tr_33_Template_button_click_21_listener","restoredCtx","ɵɵrestoreView","_r7","resident_r5","$implicit","ctx_r6","ɵɵnextContext","ɵɵresetView","openEditResidentModal","id","ɵɵadvance","ɵɵtextInterpolate","name","surname","personalCode","ɵɵpipeBind1","dateOfBirth","phone","email","isOwner","apartmentId","ɵɵelement","ɵɵtemplate","ApartmentComponent_ng_template_35_div_5_div_4_Template","ɵɵproperty","tmp_1_0","ctx_r8","ResidentEdit","get","hasError","touched","apartment_r17","ApartmentComponent_ng_template_35_div_5_Template","ApartmentComponent_ng_template_35_div_10_Template","ApartmentComponent_ng_template_35_div_15_Template","ApartmentComponent_ng_template_35_div_20_Template","ApartmentComponent_ng_template_35_div_25_Template","ApartmentComponent_ng_template_35_div_30_Template","ApartmentComponent_ng_template_35_div_35_Template","ApartmentComponent_ng_template_35_option_44_Template","ApartmentComponent_ng_template_35_Template_button_click_45_listener","_r19","ctx_r18","onFormSubmitEdit","ApartmentComponent_ng_template_35_Template_button_click_47_listener","ctx_r20","Delete","ApartmentComponent_ng_template_35_Template_button_click_49_listener","ctx_r21","closeModalAndRefresh","ctx_r2","isManager","tmp_2_0","tmp_3_0","tmp_4_0","tmp_5_0","tmp_6_0","tmp_7_0","apartments","apartment_r30","ApartmentComponent_ng_template_37_div_8_Template","ApartmentComponent_ng_template_37_div_13_Template","ApartmentComponent_ng_template_37_div_18_Template","ApartmentComponent_ng_template_37_div_23_Template","ApartmentComponent_ng_template_37_div_28_Template","ApartmentComponent_ng_template_37_div_33_Template","ApartmentComponent_ng_template_37_div_38_Template","ApartmentComponent_ng_template_37_option_47_Template","ApartmentComponent_ng_template_37_Template_button_click_48_listener","_r32","ctx_r31","onFormSubmitCreate","ApartmentComponent_ng_template_37_Template_button_click_50_listener","ctx_r33","ctx_r4","ResidentCreate","ApartmentComponent","constructor","modalService","houseService","route","router","formBuilder","AuthorizeService","isResident","activeModals","residentdetails","Date","ngOnInit","manager","UserResidentsCheck","initializeFormEdit","initializeFormCreate","getApartments","getAccessToken","subscribe","accessToken","group","required","residentId","modalRef","open","editModal","push","getResidentDetails","next","response","patchValue","getUser","data","currentUser","userRole","token","residentid","GetResidentById","resident","residents","residentApartment","params","getApartmentsResidents","openCreateResidentModal","CreateModal","valid","formData","value","residentIdToUpdate","UpdateResident","resdident","CreateResident","getAllApartments","Apartmentid","GetApartmentsResident","role","_this","_asyncToGenerator","result","openConfirmationModal","deleteResident","then","catch","forEach","dismiss","navigateByUrl","skipLocationChange","navigate","location","reload","ɵɵdirectiveInject","i1","NgbModal","i2","HomesApiService","i3","ActivatedRoute","Router","i4","FormBuilder","i5","selectors","viewQuery","ApartmentComponent_Query","rf","ctx","ApartmentComponent_Template_button_click_7_listener","ApartmentComponent_tr_33_Template","ApartmentComponent_ng_template_35_Template","ɵɵtemplateRefExtractor","ApartmentComponent_ng_template_37_Template"],"sources":["C:\\Users\\VladislavMihailov\\source\\repos\\vladislavm-ui\\ClientApp\\src\\app\\apartment\\apartment.component.ts","C:\\Users\\VladislavMihailov\\source\\repos\\vladislavm-ui\\ClientApp\\src\\app\\apartment\\apartment.component.html"],"sourcesContent":["\nimport { Apartment } from './../Models/apartment.model';\nimport { Resident } from './../Models/resident.model';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { HomesApiService } from '../Services/homes-api.service';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { AuthorizeService, IUser } from 'src/api-authorization/authorize.service';\nimport jwtDecode from 'jwt-decode';\nimport { DeleteConfirmationModalComponent } from '../delete-confirmation-modal/delete-confirmation-modal.component';\n\n\n@Component({\n  selector: 'app-apartment',\n  templateUrl: './apartment.component.html',\n  styleUrls: ['./apartment.component.css']\n})\n\n\n\n\nexport class ApartmentComponent implements OnInit {\n  @ViewChild('editModal') editModal!: ElementRef;\n  @ViewChild('CreateModal') CreateModal!: ElementRef;\n  ResidentEdit!: FormGroup;\n  ResidentCreate!: FormGroup;\n  apartmentId!: number;\n  residentId!: number;\n  isManager: boolean = false;\n  isResident: boolean = false;\n  apartments: Apartment[] = [];\n  activeModals: NgbModalRef[] = [];\n  residents!: Resident[];\n  currentUser: any;\n  accessToken!:string;\n  residentdetails: Resident = {\n    id: 0,\n    name: '',\n    surname: '',\n    personalCode: '',\n    dateOfBirth: new Date(2000, 0, 1),\n    phone: '',\n    email: '',\n    isOwner: false,\n    apartmentId: 0\n  }\n  constructor(\n    public modalService: NgbModal,\n    private houseService: HomesApiService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private formBuilder: FormBuilder,\n    private AuthorizeService: AuthorizeService,\n  ) { }\n\n  ngOnInit() {\n    \n    this.manager();\n    this.UserResidentsCheck();\n    this.initializeFormEdit();\n    this.initializeFormCreate();\n    this.getApartments();\n    this.AuthorizeService.getAccessToken().subscribe(\n      (accessToken: string | null) => {\n        if (accessToken !== null) {\n          this.accessToken = accessToken;\n        }\n      }\n    );\n\n  }\n  initializeFormEdit() {\n    this.ResidentEdit = this.formBuilder.group({\n      id: ['', Validators.required],\n      name: ['', Validators.required],\n      surname: ['', Validators.required],\n      personalCode: ['', Validators.required],\n      dateOfBirth: ['', Validators.required],\n      phone: ['', Validators.required],\n      email: ['', Validators.required],\n      isOwner: [false],\n      apartmentId: ['']\n    });\n  }\n\n  initializeFormCreate() {\n    this.ResidentCreate = this.formBuilder.group({\n      id: ['', Validators.required],\n      name: ['', Validators.required],\n      surname: ['', Validators.required],\n      personalCode: ['', Validators.required],\n      dateOfBirth: ['', Validators.required],\n      phone: ['', Validators.required],\n      email: ['', Validators.required],\n      isOwner: [false],\n      apartmentId: ['']\n    });\n  }\n  openEditResidentModal(residentId: number) {\n    this.residentId = residentId;\n    const modalRef = this.modalService.open(this.editModal);\n    this.activeModals.push(modalRef);\n\n    this.getResidentDetails(this.residentId).subscribe({\n      next: (response: Resident) => {\n        this.residentdetails = response;\n        this.ResidentEdit.patchValue({\n          id: response.id,\n          name: response.name,\n          surname: response.surname,\n          personalCode: response.personalCode,\n          dateOfBirth: response.dateOfBirth,\n          phone: response.phone,\n          email: response.email,\n          isOwner: response.isOwner,\n          apartmentId: response.apartmentId\n        });\n      },\n    });\n  }\n  UserResidentsCheck() {\n    this.AuthorizeService.getUser().subscribe(data => {\n      if (data && data.name) {\n        this.currentUser = data.name;\n      }\n    });\n    this.AuthorizeService.getAccessToken().subscribe(\n      (userRole: string | null) => {\n        if (userRole !== null && !this.isManager) {\n          const token: any = jwtDecode(userRole);\n          const residentId = token.residentid;\n          this.houseService.GetResidentById(residentId).subscribe((resident: Resident) => {\n            this.residents = [resident];\n          });\n      \n        }\n        else{\n          this.residentApartment();\n        }\n      }\n    );\n    \n  }\n  \n  \n  \n  residentApartment() {\n    this.route.params.subscribe(params => {\n      this.apartmentId = +params['id'];\n    });\n    this.getApartmentsResidents(this.apartmentId);\n  \n\n  }\n  openCreateResidentModal() {\n    const modalRef = this.modalService.open(this.CreateModal);\n    this.activeModals.push(modalRef);\n  }\n\n\n\n  onFormSubmitEdit() {\n    if (this.ResidentEdit.valid) {\n   \n        if (this.accessToken !== null) {\n         const formData = this.ResidentEdit.value;\n          const residentIdToUpdate = formData.id;\n          this.houseService.UpdateResident(residentIdToUpdate, formData,this.accessToken).subscribe((response) => {\n            this.closeModalAndRefresh();\n          });\n        }\n      }    \n    }\n  \n  onFormSubmitCreate() {\n    \n    if (this.ResidentCreate.valid) {\n          if (this.accessToken !== null) {\n           const resdident: Resident = this.ResidentCreate.value as Resident;\n           this.houseService.CreateResident(resdident,this.accessToken).subscribe((response) => {\n              this.closeModalAndRefresh();\n            });\n          }\n       \n      }\n  }\n\n\n  getApartments() {\n    \n        if (this.accessToken !== null) {\n          this.houseService.getAllApartments(this.accessToken).subscribe((data: Apartment[]) => {\n            this.apartments = data;            \n          });\n          this.closeModalAndRefresh();\n        }\n  }\n\n  getResidentDetails(residentId: number) {\n    return this.houseService.GetResidentById(residentId);\n  }\n\n  getApartmentsResidents(Apartmentid: number) {\n    this.houseService.GetApartmentsResident(Apartmentid).subscribe(\n      (residents: Resident[]) => {\n        this.residents = residents;\n\n      },\n    );\n  }\n\n  manager(): void {\n    this.AuthorizeService.getAccessToken().subscribe((userRole: string | null) => {\n      if (userRole !== null) {\n        const token: any = jwtDecode(userRole);\n        const role = token.role;\n\n        this.isManager = role === 'Manager';\n        this.isResident = role === 'Resident';\n       \n      } else {\n        this.isManager = false;\n        this.isResident = false;\n      }\n    });\n  }\n\n\n  async Delete() {\n    const residentId = this.ResidentEdit.get('id')?.value;\n    const result = this.openConfirmationModal();\n    if (await result) {\n      this.deleteResident(this.residentId)\n    } else {\n    }\n  }\n\n\n\n  //check\n  deleteResident(residentId: number) {\n    \n        if (this.accessToken !== null) {\n         this.houseService.deleteResident(residentId,this.accessToken).subscribe((response) => {\n            this.closeModalAndRefresh();\n          });\n        }\n\n    \n  }\n  openConfirmationModal(): Promise<boolean> {\n    const modalRef: NgbModalRef = this.modalService.open(DeleteConfirmationModalComponent);\n    this.activeModals.push(modalRef);\n\n\n    return modalRef.result.then((result) => {\n      return result === true;\n    }).catch(() => {\n      return false;\n    });\n  }\n  closeModalAndRefresh() {\n    this.activeModals.forEach(modalRef => {\n      modalRef.dismiss();\n    });\n    this.activeModals = [];\n    this.router.navigateByUrl('/', { skipLocationChange: true }).then(() =>\n      this.router.navigate(['apartments/' + this.residentdetails.apartmentId + '/residents']))\n    location.reload();\n  }\n\n\n}\n","<div class=\"container\">\n  <h2>Apartment:</h2>\n\n</div>\n<div class=\"container\">\n  <table class=\"table\">\n  </table>\n  <h2>Residents <button class=\"btn btn-warning\" (click)=\"openCreateResidentModal()\">Add Resident</button>\n  </h2>\n  <table class=\"table\">\n    <thead>\n      <tr>\n        <th>ID</th>\n        <th>Name</th>\n        <th>Surname</th>\n        <th>Personal Code</th>\n        <th>Date of Birth</th>\n        <th>Phone</th>\n        <th>Email</th>\n        <th>Is Owner</th>\n        <th>Apartment ID</th>\n        <th>Edit</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let resident of residents\">\n        <td>{{ resident.id }}</td>\n        <td>{{ resident.name }}</td>\n        <td>{{ resident.surname }}</td>\n        <td>{{ resident.personalCode }}</td>\n        <td>{{ resident.dateOfBirth | date }}</td>\n        <td>{{ resident.phone }}</td>\n        <td>{{ resident.email }}</td>\n        <td>{{ resident.isOwner ? 'Yes' : 'No' }}</td>\n        <td>{{ resident.apartmentId }}</td>\n        <td>\n          <button class=\"btn btn-success\"\n            (click)=\"openEditResidentModal(resident.id)\">Edit</button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <div>\n  </div>\n</div>\n\n<ng-template #editModal>\n  <div class=\"container\">\n    <h2>Resident Details</h2>\n    <div>\n      <form [formGroup]=\"ResidentEdit\">\n        <div class=\"mb-3\" required *ngIf=\"isManager\">\n          <label for=\"id\" class=\"form-label\">Id:</label>\n          <input type=\"text\" class=\"form-control\" id=\"id\" [disabled]=\"true\" formControlName=\"id\" required >\n          <div *ngIf=\"ResidentEdit.get('id')?.hasError('required') && ResidentEdit.get('id')?.touched\"\n            class=\"text-danger small\">Id is required</div>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"name\" class=\"form-label\">Name:</label>\n          <input type=\"text\" class=\"form-control\" id=\"name\" formControlName=\"name\" required>\n          <div *ngIf=\"ResidentEdit.get('name')?.hasError('required') && ResidentEdit.get('name')?.touched\"\n            class=\"text-danger small\">Name is required</div>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"surname\" class=\"form-label\">Surname:</label>\n          <input type=\"text\" class=\"form-control\" id=\"surname\" formControlName=\"surname\" required>\n          <div *ngIf=\"ResidentEdit.get('surname')?.hasError('required') && ResidentEdit.get('surname')?.touched\"\n            class=\"text-danger small\">Surname is required</div>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"personalCode\" class=\"form-label\">Personal Code:</label>\n          <input type=\"text\" class=\"form-control\" id=\"personalCode\" formControlName=\"personalCode\" required>\n          <div\n            *ngIf=\"ResidentEdit.get('personalCode')?.hasError('required') && ResidentEdit.get('personalCode')?.touched\"\n            class=\"text-danger small\">Personal Code is required</div>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"dateOfBirth\" class=\"form-label\">Date of Birth:</label>\n          <input type=\"date\" class=\"form-control\" id=\"dateOfBirth\" formControlName=\"dateOfBirth\" required>\n          <div *ngIf=\"ResidentEdit.get('dateOfBirth')?.hasError('required') && ResidentEdit.get('dateOfBirth')?.touched\"\n            class=\"text-danger small\">Date of Birth is required</div>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"phone\" class=\"form-label\">Phone:</label>\n          <input type=\"text\" class=\"form-control\" id=\"phone\" formControlName=\"phone\" required>\n          <div *ngIf=\"ResidentEdit.get('phone')?.hasError('required') && ResidentEdit.get('phone')?.touched\"\n            class=\"text-danger small\">Phone is required</div>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"email\" class=\"form-label\">Email:</label>\n          <input type=\"email\" class=\"form-control\" id=\"email\" formControlName=\"email\" required>\n          <div *ngIf=\"ResidentEdit.get('email')?.hasError('required') && ResidentEdit.get('email')?.touched\"\n            class=\"text-danger small\">Email is required</div>\n        </div>\n        <div class=\"mb-3 form-check\">\n          <input type=\"checkbox\" class=\"form-check-input\" id=\"isOwner\" formControlName=\"isOwner\">\n          <label class=\"form-check-label\" for=\"isOwner\">Is Owner</label>\n        </div>\n        <div class=\"mb-3 form-check apartmentidclass\">\n          <label for=\"apartmentId\" class=\"form-label\">ApartmentId:</label>\n          <select name=\"residentdetails.apartmentId\" class=\"form-select\" size=\"1\" formControlName=\"apartmentId\">\n            <option *ngFor=\"let apartment of apartments\" [value]=\"apartment.id\">{{ apartment.id }}</option>\n          </select>\n        </div>\n        <button type=\"submit\" class=\"btn btn-info\" (click)=\"onFormSubmitEdit()\">Save</button>\n        <button class=\"btn btn-danger\" [disabled]=\"!(isManager)\" (click)=\"Delete()\">Delete</button>\n        <button class=\"btn btn-warning\" (click)=\"closeModalAndRefresh()\">Cancel</button>\n      </form>\n    </div>\n  </div>\n</ng-template>\n\n\n<ng-template #CreateModal>\n\n  <div class=\"container\">\n    <h2>Resident Details</h2>\n    <form [formGroup]=\"ResidentCreate\">\n      <div class=\"mb-3\">\n        <label for=\"id\" class=\"form-label\">Id:</label>\n        <input type=\"number\" class=\"form-control\" id=\"id\" formControlName=\"id\" >\n        <div *ngIf=\"ResidentCreate.get('id')?.hasError('required') && ResidentCreate.get('id')?.touched\"\n          class=\"text-danger small\">Id is required</div>\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"name\" class=\"form-label\">Name:</label>\n        <input type=\"text\" class=\"form-control\" id=\"name\" formControlName=\"name\" required placeholder=\"Vladislavs\">\n        <div *ngIf=\"ResidentCreate.get('name')?.hasError('required') && ResidentCreate.get('name')?.touched\"\n          class=\"text-danger small\">Name is required</div>\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"surname\" class=\"form-label\">Surname:</label>\n        <input type=\"text\" class=\"form-control\" id=\"surname\" formControlName=\"surname\" required placeholder=\"Mihailovs\">\n        <div *ngIf=\"ResidentCreate.get('surname')?.hasError('required') && ResidentCreate.get('surname')?.touched\"\n          class=\"text-danger small\">Surname is required</div>\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"personalCode\" class=\"form-label\">Personal Code:</label>\n        <input type=\"text\" class=\"form-control\" id=\"personalCode\" formControlName=\"personalCode\" required placeholder=\"254334-23131\">\n        <div\n          *ngIf=\"ResidentCreate.get('personalCode')?.hasError('required') && ResidentCreate.get('personalCode')?.touched\"\n          class=\"text-danger small\">Personal Code is required</div>\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"dateOfBirth\" class=\"form-label\">Date of Birth:</label>\n        <input type=\"date\" class=\"form-control\" id=\"dateOfBirth\" formControlName=\"dateOfBirth\" required>\n        <div\n          *ngIf=\"ResidentCreate.get('dateOfBirth')?.hasError('required') && ResidentCreate.get('dateOfBirth')?.touched\"\n          class=\"text-danger small\">Date of Birth is required</div>\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"phone\" class=\"form-label\">Phone:</label>\n        <input type=\"text\" class=\"form-control\" id=\"phone\" formControlName=\"phone\" required placeholder=\"25288261\">\n        <div *ngIf=\"ResidentCreate.get('phone')?.hasError('required') && ResidentCreate.get('phone')?.touched\"\n          class=\"text-danger small\">Phone is required</div>\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"email\" class=\"form-label\">Email:</label>\n        <input type=\"email\" class=\"form-control\" id=\"email\" formControlName=\"email\" required placeholder=\"test@test.com\">\n        <div *ngIf=\"ResidentCreate.get('email')?.hasError('required') && ResidentCreate.get('email')?.touched\"\n          class=\"text-danger small\">Email is required</div>\n      </div>\n      <div class=\"mb-3 form-check\">\n        <input type=\"checkbox\" class=\"form-check-input\" id=\"isOwner\" formControlName=\"isOwner\" >\n        <label class=\"form-check-label\" for=\"isOwner\">Is Owner</label>\n      </div>\n      <div class=\"mb-3 form-check apartmentidclass\">\n        <label for=\"apartmentId\" class=\"form-label\">ApartmentId:</label>\n        <select name=\"apartmentId\" class=\"form-select\" size=\"1\" formControlName=\"apartmentId\">\n          <option *ngFor=\"let apartment of apartments\" [value]=\"apartment.id\">{{ apartment.id }}</option>\n        </select>\n      </div>\n      <button type=\"submit\" class=\"btn btn-info\" (click)=\"onFormSubmitCreate()\">Create</button>\n      <button class=\"btn btn-warning\" (click)=\"closeModalAndRefresh()\">Cancel</button>\n    </form>\n  </div>\n</ng-template>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}