{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/VladislavMihailov/source/repos/vladislavm-ui/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport jwtDecode from 'jwt-decode';\nimport { DeleteConfirmationModalComponent } from '../delete-confirmation-modal/delete-confirmation-modal.component';\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../Services/homes-api.service\";\nimport * as i2 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"src/api-authorization/authorize.service\";\nimport * as i6 from \"@angular/common\";\nconst _c0 = [\"editModal\"];\nconst _c1 = function (a1) {\n  return [\"/house\", a1];\n};\nfunction AllHousesComponent_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"a\", 6);\n    i0.ɵɵtext(13, \"View\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\")(15, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function AllHousesComponent_tr_21_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const house_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.openEditModal(house_r3.id));\n    });\n    i0.ɵɵtext(16, \"Edit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const house_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(house_r3.number);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(house_r3.street);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(house_r3.city);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(house_r3.country);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(house_r3.postcode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(7, _c1, house_r3.id));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.isManager);\n  }\n}\nfunction AllHousesComponent_ng_template_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n    i0.ɵɵtext(2, \"House\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 8)(4, \"form\", 9);\n    i0.ɵɵlistener(\"ngSubmit\", function AllHousesComponent_ng_template_25_Template_form_ngSubmit_4_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.submitForm());\n    });\n    i0.ɵɵelementStart(5, \"div\", 10)(6, \"div\", 11)(7, \"label\", 12);\n    i0.ɵɵtext(8, \"Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 11)(11, \"label\", 14);\n    i0.ɵɵtext(12, \"Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"input\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 11)(15, \"label\", 16);\n    i0.ɵɵtext(16, \"City\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"input\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 11)(19, \"label\", 18);\n    i0.ɵɵtext(20, \"Country\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"input\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 11)(23, \"label\", 20);\n    i0.ɵɵtext(24, \"Postcode\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(25, \"input\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 22)(27, \"label\", 23);\n    i0.ɵɵtext(28, \"Street\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(29, \"input\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 3)(31, \"button\", 25);\n    i0.ɵɵtext(32, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function AllHousesComponent_ng_template_25_Template_button_click_33_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.Delete(ctx_r8.housedetails.id));\n    });\n    i0.ɵɵtext(34, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function AllHousesComponent_ng_template_25_Template_button_click_35_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.closeModalAndRefresh());\n    });\n    i0.ɵɵtext(36, \"Cancel\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.HouseEditForm);\n  }\n}\nexport class AllHousesComponent {\n  constructor(houseService, modalService, router, fb, AuthorizeService, formBuilder) {\n    this.houseService = houseService;\n    this.modalService = modalService;\n    this.router = router;\n    this.fb = fb;\n    this.AuthorizeService = AuthorizeService;\n    this.formBuilder = formBuilder;\n    this.activeModals = [];\n    this.houses = [];\n    this.isManager = false;\n    this.isResident = false;\n    this.housedetails = {\n      id: 0,\n      number: 0,\n      street: '',\n      city: '',\n      country: '',\n      postcode: ''\n    };\n    this.editform = this.formBuilder.group({\n      id: [null, [Validators.required, Validators.min(1)]],\n      number: [null, [Validators.required, Validators.min(1)]],\n      city: [null, Validators.required],\n      country: [null, Validators.required],\n      postcode: [null, Validators.required],\n      street: [null, Validators.required]\n    });\n  }\n  ngOnInit() {\n    this.manager();\n    this.checkAutorization();\n    this.initEditForm();\n  }\n  initEditForm() {\n    this.HouseEditForm = this.formBuilder.group({\n      id: ['', Validators.required],\n      number: ['', Validators.required],\n      street: ['', [Validators.required, Validators.pattern(/^[A-Z].*/)]],\n      city: ['', [Validators.required, Validators.pattern(/^[A-Z].*/)]],\n      country: ['', [Validators.required, Validators.pattern(/^[A-Z].*/)]],\n      postcode: ['', [Validators.required, Validators.pattern(/^LV-[0-9]{4}$/)]]\n    });\n  }\n  submitForm() {\n    if (this.HouseEditForm.valid) {\n      const house = {\n        id: this.HouseEditForm.value.housesId,\n        number: this.HouseEditForm.value.number,\n        street: this.HouseEditForm.value.street,\n        city: this.HouseEditForm.value.city,\n        country: this.HouseEditForm.value.country,\n        postcode: this.HouseEditForm.value.postalIndex\n      };\n      this.houseService.CreateHouse(this.housesId, house).subscribe({\n        next: response => {\n          this.getHouses();\n        }\n      });\n    }\n  }\n  checkAutorization() {\n    this.AuthorizeService.getAccessToken().subscribe(userRole => {\n      if (userRole !== null && !this.isManager) {\n        const token = jwtDecode(userRole);\n        const houseid = token.houseid;\n        this.houseService.getHouseById(houseid).subscribe(house => {\n          this.houses = [house];\n        });\n      } else {\n        this.getHouses();\n      }\n    });\n  }\n  getHouses() {\n    this.houseService.getAllHouses().subscribe(data => {\n      this.houses = data;\n    });\n  }\n  getHousesDetails(housesId) {\n    return this.houseService.getHouseById(housesId);\n  }\n  openEditModal(housesId) {\n    this.housesId = housesId;\n    const modalRef = this.modalService.open(this.editModal);\n    this.activeModals.push(modalRef);\n    this.getHousesDetails(this.housesId).subscribe({\n      next: response => {\n        this.housedetails = response;\n      }\n    });\n    this.HouseEditForm.patchValue(this.housedetails);\n    console.log(this.housedetails);\n  }\n  manager() {\n    this.AuthorizeService.getAccessToken().subscribe(userRole => {\n      if (userRole !== null) {\n        const token = jwtDecode(userRole);\n        const role = token.role;\n        this.isManager = role === 'Manager';\n        this.isResident = role === 'Resident';\n      } else {\n        this.isManager = false;\n        this.isResident = false;\n      }\n    });\n  }\n  deleteHouse(houseId) {\n    this.houseService.DeleteHouse(houseId).subscribe({\n      next: response => {\n        this.router.navigate(['all-houses']);\n        this.closeModalAndRefresh();\n      }\n    });\n  }\n  Delete(houseId) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const result = _this.openConfirmationModal();\n      if (yield result) {\n        _this.deleteHouse(houseId);\n      } else {}\n    })();\n  }\n  openConfirmationModal() {\n    const modalRef = this.modalService.open(DeleteConfirmationModalComponent);\n    return modalRef.result.then(result => {\n      return result === true;\n    }).catch(() => {\n      return false;\n    });\n  }\n  checkAndUpdateHouse(house) {\n    const houseNumberToCheck = house.number;\n    this.houseService.doesHouseExistByNumber(houseNumberToCheck).subscribe(exists => {\n      if (exists) {\n        this.houseService.UpdateHouse(this.housedetails.id, this.housedetails).subscribe({\n          next: response => {}\n        });\n      } else {\n        // this.houseService.CreateHouse(this.housedetails).subscribe({\n        //   next: (createdHouse) => {\n        //   }\n        // });\n      }\n    });\n    this.closeModalAndRefresh();\n  }\n  closeModalAndRefresh() {\n    this.activeModals.forEach(modalRef => {\n      modalRef.dismiss();\n    });\n    this.activeModals = [];\n    this.router.navigate(['all-houses']);\n    location.reload();\n  }\n}\n_class = AllHousesComponent;\n_class.ɵfac = function AllHousesComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.HomesApiService), i0.ɵɵdirectiveInject(i2.NgbModal), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.FormBuilder), i0.ɵɵdirectiveInject(i5.AuthorizeService), i0.ɵɵdirectiveInject(i4.FormBuilder));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-all-houses\"]],\n  viewQuery: function AllHousesComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.editModal = _t.first);\n    }\n  },\n  decls: 27,\n  vars: 2,\n  consts: [[1, \"container\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"row-sm-3\"], [1, \"btn\", \"btn-warning\", \"col-sm-12\", 3, \"disabled\", \"click\"], [\"editModal\", \"\"], [1, \"btn\", \"btn-info\", 3, \"routerLink\"], [1, \"btn\", \"btn-success\", 3, \"disabled\", \"click\"], [1, \"\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\", \"row\"], [1, \"col-sm-3\"], [\"for\", \"id\", 1, \"form-label\"], [\"type\", \"number\", \"formControlName\", \"id\", \"id\", \"id\", \"name\", \"id\", 1, \"form-control\", \"form-control-sm\"], [\"for\", \"number\", 1, \"form-label\"], [\"type\", \"number\", \"formControlName\", \"number\", \"id\", \"number\", \"name\", \"number\", 1, \"form-control\", \"form-control-sm\"], [\"for\", \"city\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"city\", \"id\", \"city\", \"name\", \"city\", 1, \"form-control\", \"form-control-sm\"], [\"for\", \"country\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"country\", \"id\", \"country\", \"name\", \"country\", 1, \"form-control\", \"form-control-sm\"], [\"for\", \"postcode\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"postcode\", \"id\", \"postcode\", \"name\", \"postcode\", 1, \"form-control\", \"form-control-sm\"], [1, \"col-sm-6\"], [\"for\", \"street\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"street\", \"id\", \"street\", \"name\", \"street\", 1, \"form-control\", \"form-control-sm\"], [1, \"btn\", \"btn-info\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"btn\", \"btn-warning\", 3, \"click\"]],\n  template: function AllHousesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n      i0.ɵɵtext(2, \"All Houses\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"table\", 1)(4, \"thead\")(5, \"tr\")(6, \"th\");\n      i0.ɵɵtext(7, \"Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"th\");\n      i0.ɵɵtext(9, \"Street\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"City\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Country\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Postcode\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"Edit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\");\n      i0.ɵɵtext(19, \"View\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(20, \"tbody\");\n      i0.ɵɵtemplate(21, AllHousesComponent_tr_21_Template, 17, 9, \"tr\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"div\", 3)(23, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function AllHousesComponent_Template_button_click_23_listener() {\n        return ctx.openEditModal(0);\n      });\n      i0.ɵɵtext(24, \"Add House\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(25, AllHousesComponent_ng_template_25_Template, 37, 1, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngForOf\", ctx.houses);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !ctx.isManager);\n    }\n  },\n  dependencies: [i6.NgForOf, i3.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName],\n  styles: [\"*[_ngcontent-%COMP%] {\\n    margin: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWxsLWhvdXNlcy9hbGwtaG91c2VzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0FBQ2hCIiwic291cmNlc0NvbnRlbnQiOlsiKiB7XG4gICAgbWFyZ2luOiAxMHB4O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["jwtDecode","DeleteConfirmationModalComponent","Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AllHousesComponent_tr_21_Template_button_click_15_listener","restoredCtx","ɵɵrestoreView","_r5","house_r3","$implicit","ctx_r4","ɵɵnextContext","ɵɵresetView","openEditModal","id","ɵɵadvance","ɵɵtextInterpolate","number","street","city","country","postcode","ɵɵproperty","ɵɵpureFunction1","_c1","ctx_r0","isManager","AllHousesComponent_ng_template_25_Template_form_ngSubmit_4_listener","_r7","ctx_r6","submitForm","ɵɵelement","AllHousesComponent_ng_template_25_Template_button_click_33_listener","ctx_r8","Delete","housedetails","AllHousesComponent_ng_template_25_Template_button_click_35_listener","ctx_r9","closeModalAndRefresh","ctx_r2","HouseEditForm","AllHousesComponent","constructor","houseService","modalService","router","fb","AuthorizeService","formBuilder","activeModals","houses","isResident","editform","group","required","min","ngOnInit","manager","checkAutorization","initEditForm","pattern","valid","house","value","housesId","postalIndex","CreateHouse","subscribe","next","response","getHouses","getAccessToken","userRole","token","houseid","getHouseById","getAllHouses","data","getHousesDetails","modalRef","open","editModal","push","patchValue","console","log","role","deleteHouse","houseId","DeleteHouse","navigate","_this","_asyncToGenerator","result","openConfirmationModal","then","catch","checkAndUpdateHouse","houseNumberToCheck","doesHouseExistByNumber","exists","UpdateHouse","forEach","dismiss","location","reload","ɵɵdirectiveInject","i1","HomesApiService","i2","NgbModal","i3","Router","i4","FormBuilder","i5","selectors","viewQuery","AllHousesComponent_Query","rf","ctx","ɵɵtemplate","AllHousesComponent_tr_21_Template","AllHousesComponent_Template_button_click_23_listener","AllHousesComponent_ng_template_25_Template","ɵɵtemplateRefExtractor"],"sources":["C:\\Users\\VladislavMihailov\\source\\repos\\vladislavm-ui\\ClientApp\\src\\app\\all-houses\\all-houses.component.ts","C:\\Users\\VladislavMihailov\\source\\repos\\vladislavm-ui\\ClientApp\\src\\app\\all-houses\\all-houses.component.html"],"sourcesContent":["import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { House } from '../Models/house.model';\nimport { HomesApiService } from '../Services/homes-api.service';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { AuthorizeService } from 'src/api-authorization/authorize.service';\nimport jwtDecode from 'jwt-decode';\nimport { Subject } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { DeleteConfirmationModalComponent } from '../delete-confirmation-modal/delete-confirmation-modal.component';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-all-houses',\n  templateUrl: './all-houses.component.html',\n  styleUrls: ['./all-houses.component.css']\n})\nexport class AllHousesComponent {\n  @ViewChild('editModal') editModal!: ElementRef;\n  HouseEditForm!: FormGroup;\n  activeModals: NgbModalRef[] = [];\n  housesId!: number;\n  houses: House[] = [];\n  isManager: boolean = false;\n  isResident: boolean = false;\n  editform: FormGroup; \n  housedetails: House = {\n    id: 0,\n    number: 0,\n    street: '',\n    city: '',\n    country: '',\n    postcode: '',\n  }\n\n  constructor(private houseService: HomesApiService,\n    public modalService: NgbModal,\n    private router: Router,\n    private fb: FormBuilder,\n    private AuthorizeService: AuthorizeService,\n    private formBuilder: FormBuilder\n  ) {\n    this.editform = this.formBuilder.group({\n      id: [null, [Validators.required, Validators.min(1)]],\n      number: [null, [Validators.required, Validators.min(1)]],\n      city: [null, Validators.required],\n      country: [null, Validators.required],\n      postcode: [null, Validators.required],\n      street: [null, Validators.required],\n    });\n  }\n  \n  ngOnInit(): void {\n    this.manager();\n    this.checkAutorization();\n    this.initEditForm();\n\n  }\n\n  initEditForm(): void {\n    this.HouseEditForm = this.formBuilder.group({\n      id:['', Validators.required],\n      number: ['', Validators.required],\n      street: ['', [Validators.required, Validators.pattern(/^[A-Z].*/)]],\n      city: ['', [Validators.required, Validators.pattern(/^[A-Z].*/)]],\n      country: ['', [Validators.required, Validators.pattern(/^[A-Z].*/)]],\n      postcode: ['', [Validators.required, Validators.pattern(/^LV-[0-9]{4}$/)]],\n    });\n  }\n\n  submitForm(): void {\n    if (this.HouseEditForm.valid) {\n      const house: House = {\n        id: this.HouseEditForm.value.housesId,\n        number: this.HouseEditForm.value.number,\n        street: this.HouseEditForm.value.street,\n        city: this.HouseEditForm.value.city,\n        country: this.HouseEditForm.value.country,\n        postcode: this.HouseEditForm.value.postalIndex\n      }\n\n      this.houseService.CreateHouse(this.housesId, house).subscribe({\n        next: (response) => {\n          this.getHouses();\n        }\n      })\n    }\n \n  }\n\n\n  checkAutorization() {\n\n    this.AuthorizeService.getAccessToken().subscribe((userRole: string | null) => {\n\n      if (userRole !== null && !this.isManager) {\n        const token: any = jwtDecode(userRole);\n        const houseid = token.houseid;\n        this.houseService.getHouseById(houseid).subscribe((house: any) => {\n          this.houses = [house];\n        });\n\n      }\n      else {\n        this.getHouses();\n      }\n\n    });\n  }\n\n  getHouses() {\n    this.houseService.getAllHouses().subscribe((data: House[]) => {\n      this.houses = data;\n    });\n  }\n  getHousesDetails(housesId: number) {\n    return this.houseService.getHouseById(housesId);\n  }\n\n  openEditModal(housesId: number) {\n\n\n    this.housesId = housesId;\n    const modalRef = this.modalService.open(this.editModal);\n    this.activeModals.push(modalRef);\n\n    this.getHousesDetails(this.housesId).subscribe({\n      next: (response: House) => {\n        this.housedetails = response;\n\n      }\n    });\n    this.HouseEditForm.patchValue(this.housedetails);\n    console.log(this.housedetails)\n  }\n  manager(): void {\n    this.AuthorizeService.getAccessToken().subscribe((userRole: string | null) => {\n      if (userRole !== null) {\n        const token: any = jwtDecode(userRole);\n        const role = token.role;\n\n        this.isManager = role === 'Manager';\n        this.isResident = role === 'Resident';\n      } else {\n        this.isManager = false;\n        this.isResident = false;\n      }\n    });\n  }\n\n  deleteHouse(houseId: number) {\n    this.houseService.DeleteHouse(houseId).subscribe({\n      next: (response) => {\n        this.router.navigate(['all-houses'])\n        this.closeModalAndRefresh();\n      }\n    })\n\n  }\n  async Delete(houseId: number) {\n    const result = this.openConfirmationModal();\n    if (await result) {\n      this.deleteHouse(houseId)\n    } else {\n    }\n  }\n\n  openConfirmationModal(): Promise<boolean> {\n    const modalRef: NgbModalRef = this.modalService.open(DeleteConfirmationModalComponent);\n\n    return modalRef.result.then((result) => {\n      return result === true;\n    }).catch(() => {\n      return false;\n    });\n  }\n\n\n  checkAndUpdateHouse(house: House) {\n\n    const houseNumberToCheck = house.number;\n    this.houseService.doesHouseExistByNumber(houseNumberToCheck).subscribe((exists) => {\n      if (exists) {\n        this.houseService.UpdateHouse(this.housedetails.id, this.housedetails).subscribe({\n          next: (response) => {\n          }\n        });\n      } else {\n        // this.houseService.CreateHouse(this.housedetails).subscribe({\n        //   next: (createdHouse) => {\n        //   }\n        // });\n      }\n\n    });\n    this.closeModalAndRefresh();\n  }\n\n  closeModalAndRefresh() {\n    this.activeModals.forEach(modalRef => {\n      modalRef.dismiss();\n    });\n    this.activeModals = [];\n    this.router.navigate(['all-houses']);\n    location.reload();\n  }\n}","<div class=\"container\">\n  <h2>All Houses</h2>\n\n  <table class=\"table\">\n    <thead>\n      <tr>\n        <th>Number</th>\n        <th>Street</th>\n        <th>City</th>\n        <th>Country</th>\n        <th>Postcode</th>\n        <th>Edit</th>\n        <th>View</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let house of houses\">\n        <td>{{ house.number }}</td>\n        <td>{{ house.street }}</td>\n        <td>{{ house.city }}</td>\n        <td>{{ house.country }}</td>\n        <td>{{ house.postcode }}</td>\n        <td><a class=\"btn btn-info\" [routerLink]=\"['/house', house.id]\">View</a></td>\n        <td><button class=\"btn btn-success\" [disabled]=\"!isManager\"\n            (click)=\"(openEditModal(house.id))\">Edit</button></td>\n      </tr>\n    </tbody>\n  </table>\n  <div class=\"row-sm-3\">\n    <button class=\"btn btn-warning col-sm-12\" [disabled]=\"!isManager\" (click)=\"(openEditModal(0))\">Add House</button>\n  </div>\n</div>\n<ng-template #editModal>\n  <div class=\"container\">\n    <h2>House</h2>\n    <div class=\"\">\n      <form [formGroup]=\"HouseEditForm\" (ngSubmit)=\"submitForm()\">\n        <div class=\"form-group row \">\n        <div class=\"col-sm-3 \">\n          <label for=\"id\" class=\"form-label\">Id</label>\n          <input type=\"number\" formControlName=\"id\" class=\"form-control form-control-sm\" id=\"id\" name=\"id\" >\n        </div>\n        <div class=\"col-sm-3 \">\n          <label for=\"number\" class=\"form-label\">Number</label>\n          <input type=\"number\" formControlName=\"number\" class=\"form-control form-control-sm\" id=\"number\" name=\"number\" >\n        </div>\n        \n        <div class=\"col-sm-3 \">\n          <label for=\"city\" class=\"form-label\">City</label>\n          <input type=\"text\" formControlName=\"city\" class=\"form-control form-control-sm\" id=\"city\" name=\"city\">\n        </div>\n        <div class=\"col-sm-3 \">\n          <label for=\"country\" class=\"form-label\">Country</label>\n          <input type=\"text\" formControlName=\"country\" class=\"form-control form-control-sm\" id=\"country\" name=\"country\" >\n        </div>\n        <div class=\"col-sm-3 \">\n          <label for=\"postcode\" class=\"form-label\">Postcode</label>\n          <input type=\"text\" formControlName=\"postcode\" class=\"form-control form-control-sm\" id=\"postcode\" name=\"postcode\" >\n        </div>\n        <div class=\"col-sm-6 \">\n          <label for=\"street\" class=\"form-label\">Street</label>\n          <input type=\"text\" formControlName=\"street\" class=\"form-control form-control-sm\" id=\"street\" name=\"street\" >\n        </div>\n        <div class=\"row-sm-3\">\n          <button class=\"btn btn-info\" >Save</button>\n          <button class=\"btn btn-danger\" (click)=\"Delete(housedetails.id)\">Delete</button>\n          <button class=\"btn btn-warning\"(click)=\"closeModalAndRefresh()\">Cancel</button>\n        </div>\n      </div>\n      </form>\n      \n    </div>\n  \n  \n  </div>\n  \n</ng-template>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}